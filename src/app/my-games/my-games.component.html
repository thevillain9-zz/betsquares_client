<mat-card *ngIf="currentUser != null">
  <mat-card-title>{{userGamesLabel}}</mat-card-title>
  <mat-card-content>
      <mat-table [dataSource]="myGamesDataSource" *ngIf="!isLoadingGames">
        <ng-container cdkColumnDef="gameDate">
          <mat-header-cell *cdkHeaderCellDef>Game Date</mat-header-cell>
          <mat-cell *cdkCellDef="let gridGame">  
              <span>{{gridGame.game.gameDate | date :'shortDate'}}</span>
            </mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="gameMatchup">
          <mat-header-cell *cdkHeaderCellDef>Matchup</mat-header-cell>
          <mat-cell *cdkCellDef="let gridGame"> 
            {{gridGame.game.awayTeam.location}} vs {{gridGame.game.homeTeam.location}}
          </mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="gameScore">
          <mat-header-cell *cdkHeaderCellDef>Score</mat-header-cell>
          <mat-cell *cdkCellDef="let gridGame"> 
            <span *ngIf="gridGame.game.score.state !== 0">
              <!-- <a [routerLink]="['/games/',gridGame.game.gameId]"> -->
                <app-score [homeTeamScore]="gridGame.game.score.homeTeamScore"
                [awayTeamScore]="gridGame.game.score.awayTeamScore">  </app-score>
            </span>            
          </mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="gameTime">
          <mat-header-cell *cdkHeaderCellDef>Time</mat-header-cell>
          <mat-cell *cdkCellDef="let gridGame"> 
            <span *ngIf="gridGame.game.score.state === 1">
              {{gridGame.game.score.currentPeriod}} <br/> {{gridGame.game.score.currentTime}}
            </span>
            <span *ngIf="gridGame.game.score.state === 0">
              {{gridGame.game.gameDate | date :'shortTime'}}
            </span>
            <span *ngIf="gridGame.game.score.state === 2">Final</span>
          </mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="myBoxGames">
          <mat-header-cell *cdkHeaderCellDef>Box Game</mat-header-cell>
          <mat-cell *cdkCellDef="let gridGame">
            <table>
              <tr *ngFor="let gridGame2 of gridGame.gridGames">
                <td class="boxName">
                  {{gridGame2.name}}
                </td>
              </tr>
            </table>
          </mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="myBoxes">
          <mat-header-cell *cdkHeaderCellDef>Boxes</mat-header-cell>
          <mat-cell *cdkCellDef="let gridGame">
            <table>
              <tr *ngFor="let gridGame2 of gridGame.gridGames">
                <td>{{(gridGame2.boxes | boxUserFilter : boxesByUser).length}}</td>
              </tr>
            </table>
          </mat-cell>
        </ng-container>
        <ng-container cdkColumnDef="myWinBoxes">
            <mat-header-cell *cdkHeaderCellDef>Winning Boxes</mat-header-cell>
            <mat-cell *cdkCellDef="let gridGame">
              <table>
                <tr *ngFor="let gridGame2 of gridGame.gridGames">
                  <td>{{(gridGame2.boxes | boxUserFilter : boxesByUserWinning).length}}</td>
                </tr>
              </table>
            </mat-cell>
          </ng-container>          
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>    
  </mat-card-content>
</mat-card>
